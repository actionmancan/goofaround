# System Design - Home Server Architecture

## Overview

This document provides a visual representation of the home server setup, showing how hardware, software, and services interconnect.

---

## Physical Hardware Layout

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           YOUR HOME SERVER SETUP                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              PHYSICAL HARDWARE                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   INTERNET   â”‚         â”‚    ROUTER    â”‚         â”‚  POE SWITCH  â”‚
    â”‚   (Modem)    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 192.168.1.254â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  (âš¡ power)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚                        â”‚
                                    â”‚                        â”‚
                             â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚    FEDORA    â”‚         â”‚   CAMERA     â”‚
                             â”‚    SERVER    â”‚         â”‚  RLC-810A    â”‚
                             â”‚ 192.168.1.100â”‚         â”‚192.168.1.126 â”‚
                             â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚                     â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                  â”‚  ZIGBEE USB â”‚       â”‚   PODMAN    â”‚
                  â”‚   DONGLE    â”‚       â”‚  QUADLETS   â”‚
                  â”‚ (ttyUSB0)   â”‚       â”‚ (Services)  â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Podman Quadlets (Software Services)

All quadlet files are stored in: `~/.config/containers/systemd/`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PODMAN QUADLETS (Software)                           â”‚
â”‚                    ~/.config/containers/systemd/                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    homeserver.network (172.20.0.0/16)                â”‚
    â”‚              All containers communicate on this network              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                             â”‚                             â”‚
        â–¼                             â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MOSQUITTO   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  ZIGBEE2MQTT  â”‚            â”‚    FRIGATE    â”‚
â”‚  MQTT Broker  â”‚   MQTT     â”‚               â”‚            â”‚      NVR      â”‚
â”‚   Port 1883   â”‚  messages  â”‚  Port 8080    â”‚            â”‚   Port 5000   â”‚
â”‚               â”‚            â”‚               â”‚            â”‚               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚            â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚            â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Receives  â”‚ â”‚            â”‚ â”‚  Talks to â”‚ â”‚            â”‚ â”‚  Watches  â”‚ â”‚
â”‚ â”‚ all smart â”‚ â”‚            â”‚ â”‚  Zigbee   â”‚ â”‚            â”‚ â”‚  cameras  â”‚ â”‚
â”‚ â”‚  home     â”‚ â”‚            â”‚ â”‚  devices  â”‚ â”‚            â”‚ â”‚   with    â”‚ â”‚
â”‚ â”‚ messages  â”‚ â”‚            â”‚ â”‚  via USB  â”‚â—€â”€â”€USBâ”€â”€â”€â”€â”€â”€â”€â–¶â”‚ â”‚    AI     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚            â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚            â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                                         â”‚
        â”‚              MQTT messages                              â”‚ RTSP
        â”‚                                                         â”‚ video
        â–¼                                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚HOME ASSISTANT â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    CAMERA     â”‚
â”‚   Smart Home  â”‚         Events & recordings            â”‚  RLC-810A     â”‚
â”‚   Port 8123   â”‚                                        â”‚192.168.1.126  â”‚
â”‚               â”‚                                        â”‚               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                                        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Controls  â”‚ â”‚                                        â”‚ â”‚4K video   â”‚ â”‚
â”‚ â”‚everything â”‚ â”‚                                        â”‚ â”‚ stream    â”‚ â”‚
â”‚ â”‚ dashboard â”‚ â”‚                                        â”‚ â”‚           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                                        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Support Services

```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                    SUPPORT SERVICES                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NGINX PROXY  â”‚                                        â”‚ ADGUARD HOME  â”‚
â”‚    Manager    â”‚                                        â”‚   DNS + Ads   â”‚
â”‚   Port 8181   â”‚                                        â”‚   Port 3000   â”‚
â”‚               â”‚                                        â”‚               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                                        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚SSL certs  â”‚ â”‚                                        â”‚ â”‚Blocks ads â”‚ â”‚
â”‚ â”‚& routing  â”‚ â”‚                                        â”‚ â”‚network-   â”‚ â”‚
â”‚ â”‚           â”‚ â”‚                                        â”‚ â”‚  wide     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                                        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagrams

### Zigbee Device Flow (Smart Lights, Sensors, Switches)

```
  ZIGBEE DEVICE          ZIGBEE USB           ZIGBEE2MQTT         MOSQUITTO
  (light bulb)    ))))   (radio waves)   â”€â”€â”€â–¶  (translator)  â”€â”€â”€â–¶  (mailbox)
       ğŸ’¡                     ğŸ“¡                   ğŸ”„                 ğŸ“¬
                                                                      â”‚
                                                                      â–¼
                                                               HOME ASSISTANT
                                                                (brain) ğŸ§ 
                                                                      â”‚
                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                    â–¼                 â–¼                 â–¼
                                              Turn on/off      Automations        Dashboard
                                                lights         & scenes            (UI)
```

**How it works:**
1. Zigbee device (bulb, sensor) sends radio signal
2. Zigbee USB dongle receives the signal
3. Zigbee2MQTT translates it to MQTT message
4. Mosquitto receives and routes the message
5. Home Assistant receives it and can:
   - Display status on dashboard
   - Trigger automations
   - Send commands back

---

### Camera Flow (AI-Powered Surveillance)

```
  IP CAMERA              RTSP STREAM            FRIGATE             MOSQUITTO
  (records)      â”€â”€â”€â–¶    (video)        â”€â”€â”€â–¶   (AI brain)    â”€â”€â”€â–¶   (mailbox)
     ğŸ“¹                     ğŸ¬                    ğŸ¤–                   ğŸ“¬
                                                   â”‚                    â”‚
                                           Detects people              â–¼
                                           cars, pets             HOME ASSISTANT
                                                                  (notifications)
                                                                       ğŸ“±
```

**How it works:**
1. Camera streams video via RTSP protocol
2. Frigate receives and analyzes with AI
3. Frigate detects objects (person, car, dog, cat)
4. Sends detection events to Mosquitto
5. Home Assistant receives events for:
   - Push notifications
   - Recording clips
   - Triggering automations

---

## Service Details

| Service | Container Image | Port | Purpose |
|---------|-----------------|------|---------|
| **Mosquitto** | eclipse-mosquitto:latest | 1883 | MQTT message broker - the "mailbox" for all messages |
| **Zigbee2MQTT** | koenkk/zigbee2mqtt:latest | 8080 | Translates Zigbee radio â†’ MQTT messages |
| **Home Assistant** | homeassistant/home-assistant:latest | 8123 | Smart home control center - the "brain" |
| **Frigate** | blakeblackshear/frigate:stable | 5000 | AI-powered camera NVR |
| **Nginx Proxy** | jc21/nginx-proxy-manager:latest | 8181 | SSL certificates & reverse proxy |
| **AdGuard Home** | adguard/adguardhome:latest | 3000 | Network-wide ad blocking |

---

## Network Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           NETWORK TOPOLOGY                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                        INTERNET
                            â”‚
                            â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    ROUTER     â”‚
                    â”‚ 192.168.1.254 â”‚
                    â”‚  DHCP Server  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚               â”‚               â”‚
            â–¼               â–¼               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  FEDORA  â”‚    â”‚   POE    â”‚    â”‚  OTHER   â”‚
     â”‚  SERVER  â”‚    â”‚  SWITCH  â”‚    â”‚ DEVICES  â”‚
     â”‚  .100    â”‚    â”‚          â”‚    â”‚          â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                    â”‚           â”‚
                    â–¼           â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ CAMERA 1 â”‚ â”‚ CAMERA 2 â”‚
              â”‚   .126   â”‚ â”‚  (future)â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


    PODMAN INTERNAL NETWORK (172.20.0.0/16)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                                     â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
    â”‚  â”‚Mosquittoâ”‚ â”‚Zigbee2  â”‚ â”‚  Home   â”‚ â”‚ Frigate â”‚ â”‚ AdGuard â”‚       â”‚
    â”‚  â”‚         â”‚ â”‚  MQTT   â”‚ â”‚Assistantâ”‚ â”‚         â”‚ â”‚         â”‚       â”‚
    â”‚  â”‚172.20.  â”‚ â”‚172.20.  â”‚ â”‚172.20.  â”‚ â”‚172.20.  â”‚ â”‚172.20.  â”‚       â”‚
    â”‚  â”‚ x.x     â”‚ â”‚ x.x     â”‚ â”‚ x.x     â”‚ â”‚ x.x     â”‚ â”‚ x.x     â”‚       â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
    â”‚                                                                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Structure

```
project/
â”œâ”€â”€ quadlets/                          # Podman quadlet definitions
â”‚   â”œâ”€â”€ homeserver.network             # Container network (172.20.0.0/16)
â”‚   â”œâ”€â”€ homeserver-mosquitto.container
â”‚   â”œâ”€â”€ homeserver-zigbee2mqtt.container
â”‚   â”œâ”€â”€ homeserver-homeassistant.container
â”‚   â”œâ”€â”€ homeserver-frigate.container
â”‚   â”œâ”€â”€ homeserver-nginx-proxy.container
â”‚   â””â”€â”€ homeserver-adguard.container
â”‚
â”œâ”€â”€ configs/                           # Service configuration files
â”‚   â”œâ”€â”€ mosquitto/mosquitto.conf
â”‚   â”œâ”€â”€ zigbee2mqtt/configuration.yaml
â”‚   â”œâ”€â”€ frigate/config.yml             # Camera settings here!
â”‚   â”œâ”€â”€ homeassistant/configuration.yaml
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ data/                              # Persistent data (survives restarts)
â”‚   â”œâ”€â”€ mosquitto/{log,data}
â”‚   â”œâ”€â”€ frigate/                       # Recordings stored here
â”‚   â”œâ”€â”€ homeassistant/                 # HA database & config
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ secrets/                           # Credentials (gitignored)
    â””â”€â”€ camera_credentials.txt
```

---

## Quick Reference - Service URLs

| Service | URL | Default Credentials |
|---------|-----|---------------------|
| Home Assistant | http://192.168.1.100:8123 | (create on first visit) |
| Frigate | http://192.168.1.100:5000 | (none) |
| Zigbee2MQTT | http://192.168.1.100:8080 | (none) |
| Nginx Proxy | http://192.168.1.100:8181 | admin@example.com / changeme |
| AdGuard Home | http://192.168.1.100:3000 | (create on first visit) |

---

## Hardware Inventory

| Device | IP/Location | Purpose |
|--------|-------------|---------|
| Fedora Server | 192.168.1.100 | Runs all containers |
| Router | 192.168.1.254 | Network gateway |
| PoE Switch | Connected to router | Powers cameras |
| Reolink RLC-810A | 192.168.1.126 | 4K camera (living room test) |
| Zigbee USB Dongle | /dev/ttyUSB0 | SLAE.sh CC2652RB stick |

---

*Last Updated: December 2025*

